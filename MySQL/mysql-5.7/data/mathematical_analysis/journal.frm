TYPE=VIEW
query=select `mathematical_analysis`.`users`.`familia` AS `familia`,`mathematical_analysis`.`users`.`name` AS `name`,`mathematical_analysis`.`users`.`otchestvo` AS `otchestvo`,`mathematical_analysis`.`razdel`.`name_razdel` AS `name_razdel`,`mathematical_analysis`.`temi`.`name_temi` AS `name_temi`,coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`),\'Тема не начата\') AS `data_nachala_temi`,(case when ((coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`),\'Тема не начата\') = \'Тема не начата\') or exists(select 1 from `mathematical_analysis`.`tests` where (`mathematical_analysis`.`tests`.`id_temi` = `mathematical_analysis`.`temi`.`id_temi`))) then coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_konca_temi`),\'Тема не окончена\') else (min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`) + interval 1 hour) end) AS `data_konca_temi`,`mathematical_analysis`.`users`.`id_users` AS `id_users`,`mathematical_analysis`.`temi`.`id_temi` AS `id_temi` from (((`mathematical_analysis`.`users` join `mathematical_analysis`.`temi`) left join `mathematical_analysis`.`jyrnal_izychenia` on(((`mathematical_analysis`.`jyrnal_izychenia`.`id_temi` = `mathematical_analysis`.`temi`.`id_temi`) and (`mathematical_analysis`.`jyrnal_izychenia`.`id_users` = `mathematical_analysis`.`users`.`id_users`)))) join `mathematical_analysis`.`razdel` on((`mathematical_analysis`.`temi`.`id_razdel` = `mathematical_analysis`.`razdel`.`id_razdel`))) group by `mathematical_analysis`.`users`.`id_users`,`mathematical_analysis`.`temi`.`id_temi` order by `mathematical_analysis`.`users`.`familia`,`mathematical_analysis`.`users`.`name`,`mathematical_analysis`.`users`.`otchestvo`,`mathematical_analysis`.`temi`.`name_temi`
md5=ea501f31777f6c410fca52c713cd01ca
updatable=0
algorithm=0
definer_user=root
definer_host=localhost
suid=2
with_check_option=0
timestamp=2024-05-25 14:39:42
create-version=1
source=SELECT\n	  `users`.`familia` AS `familia`,\n	  `users`.`name` AS `name`,\n	  `users`.`otchestvo` AS `otchestvo`,\n	  `razdel`.`name_razdel` AS `name_razdel`,\n	  `temi`.`name_temi` AS `name_temi`,\n	  COALESCE(MIN(`jyrnal_izychenia`.`data_nachala_temi`), \'Тема не начата\') AS `data_nachala_temi`,\n	  CASE WHEN COALESCE(MIN(`jyrnal_izychenia`.`data_nachala_temi`), \'Тема не начата\') = \'Тема не начата\' OR\n	      EXISTS (SELECT\n	          1\n	        FROM `tests`\n	        WHERE `tests`.`id_temi` = `temi`.`id_temi`) THEN COALESCE(MIN(`jyrnal_izychenia`.`data_konca_temi`), \'Тема не окончена\') ELSE DATE_ADD(MIN(`jyrnal_izychenia`.`data_nachala_temi`), INTERVAL 1 HOUR) END AS `data_konca_temi`,\n	  `users`.`id_users` AS `id_users`,\n	  `temi`.`id_temi` AS `id_temi`\n	FROM `users`\n	  JOIN `temi`\n	  LEFT JOIN `jyrnal_izychenia`\n	    ON `jyrnal_izychenia`.`id_temi` = `temi`.`id_temi`\n	    AND `jyrnal_izychenia`.`id_users` = `users`.`id_users`\n	  JOIN `razdel`\n	    ON `temi`.`id_razdel` = `razdel`.`id_razdel`\n	GROUP BY `users`.`id_users`,\n	         `temi`.`id_temi`\n	ORDER BY `users`.`familia`, `users`.`name`, `users`.`otchestvo`, `temi`.`name_temi`
client_cs_name=utf8
connection_cl_name=utf8_general_ci
view_body_utf8=select `mathematical_analysis`.`users`.`familia` AS `familia`,`mathematical_analysis`.`users`.`name` AS `name`,`mathematical_analysis`.`users`.`otchestvo` AS `otchestvo`,`mathematical_analysis`.`razdel`.`name_razdel` AS `name_razdel`,`mathematical_analysis`.`temi`.`name_temi` AS `name_temi`,coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`),\'Тема не начата\') AS `data_nachala_temi`,(case when ((coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`),\'Тема не начата\') = \'Тема не начата\') or exists(select 1 from `mathematical_analysis`.`tests` where (`mathematical_analysis`.`tests`.`id_temi` = `mathematical_analysis`.`temi`.`id_temi`))) then coalesce(min(`mathematical_analysis`.`jyrnal_izychenia`.`data_konca_temi`),\'Тема не окончена\') else (min(`mathematical_analysis`.`jyrnal_izychenia`.`data_nachala_temi`) + interval 1 hour) end) AS `data_konca_temi`,`mathematical_analysis`.`users`.`id_users` AS `id_users`,`mathematical_analysis`.`temi`.`id_temi` AS `id_temi` from (((`mathematical_analysis`.`users` join `mathematical_analysis`.`temi`) left join `mathematical_analysis`.`jyrnal_izychenia` on(((`mathematical_analysis`.`jyrnal_izychenia`.`id_temi` = `mathematical_analysis`.`temi`.`id_temi`) and (`mathematical_analysis`.`jyrnal_izychenia`.`id_users` = `mathematical_analysis`.`users`.`id_users`)))) join `mathematical_analysis`.`razdel` on((`mathematical_analysis`.`temi`.`id_razdel` = `mathematical_analysis`.`razdel`.`id_razdel`))) group by `mathematical_analysis`.`users`.`id_users`,`mathematical_analysis`.`temi`.`id_temi` order by `mathematical_analysis`.`users`.`familia`,`mathematical_analysis`.`users`.`name`,`mathematical_analysis`.`users`.`otchestvo`,`mathematical_analysis`.`temi`.`name_temi`
